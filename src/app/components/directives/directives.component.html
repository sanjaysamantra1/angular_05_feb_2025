<!-- <p>directives works!</p>
<h3 class="text-center">Lets learn Directives</h3>
<div class="border">
    <div>
        @if (age>18 && age==18 ) {
            <h1>Your are eligible for voting</h1>
            <h2>you can vote now</h2>
        }
        @else {
            <h1>Sorry you are not eligible for voting</h1>
        }
    </div>
    <div class="mx-2">
        <label for="state-input">Choose a state:</label>
        <input id="state-input" list="states-list" placeholder="Select a state">
        <datalist id="states-list">
          @for (state of states; track $index) {
            <option [value]="state"></option>
          }
        </datalist>
    </div>
    <table class="table-active table-bordered table-primary table-responsive-md">
<thead>
    <tr>
        <th>Employee ID</th>
        <th>Employee Name</th>
        <th>Employee salary</th>
        <th>Employee Gender</th>
    </tr>
</thead>
<tbody>
    @for(emp of employees;track $index){
        <tr>
            <td>{{emp.eId}}</td>
            <td>{{emp.name}}</td>
            <td>{{emp.sal}}</td>
            <td>{{emp.gender}}</td>
        </tr>
    }
</tbody>
    </table>
 </div>



 <div class="mx-2">
    <h2>User Details</h2>
    @for(user of users;track $index){
      
    <p><strong>ID:</strong> {{ user.id }}</p>
    <p><strong>Name:</strong> {{ user.name }}</p>
    <p><strong>Username:</strong> {{ user.username }}</p>
    <p><strong>Email:</strong> {{ user.email }}</p>
    <h3>Address</h3>
    <p><strong>Street:</strong> {{ user.address.street }}</p>
    <p><strong>Suite:</strong> {{ user.address.suite }}</p>
    <p><strong>City:</strong> {{ user.address.city }}</p>
    <p><strong>Zipcode:</strong> {{ user.address.zipcode }}</p>
    <h4>Geo Location</h4>
    <p><strong>Latitude:</strong> {{ user.address.geo.lat }}</p>
    <p><strong>Longitude:</strong> {{ user.address.geo.lng }}</p>
    <p><strong>Phone:</strong>{{user.phone}}</p>
    <p><strong>website:</strong>{{user.website}}</p>
    <p><strong>company name:</strong>{{user.company.name}}</p>
    <p><strong>catch phrase:</strong>{{user.company.catchPhrase}}</p>
    <p><strong>company bs:</strong>{{user.company.bs}}</p>
    

    }
  </div>

  <div class="toggle-container">
    <button (click)="toggleView()" class="btn btn-primary">
      {{ isCardView ? 'Switch to Table View' : 'Switch to Card View' }}
    </button>
  </div>


  <div *ngIf="isCardView"  class="card-grid">
    @for (user of users; track $index) {
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">User Details</h5>
          <a href="#" class="btn btn-primary">Welcome to the user: {{ user.username }}</a>
          <p class="card-text"><strong>ID:</strong> {{ user.id }}</p>
          <p class="card-text"><strong>Name:</strong> {{ user.name }}</p>
          <p class="card-text"><strong>Username:</strong> {{ user.username }}</p>
          <p class="card-text"><strong>Email:</strong> {{ user.email }}</p>
          <hr>  
          <h3>Address</h3>
          <p class="card-text"><strong>Street:</strong> {{ user.address.street }}</p>
          <p class="card-text"><strong>Suite:</strong> {{ user.address.suite }}</p>
          <p class="card-text"><strong>City:</strong> {{ user.address.city }}</p>
          <p class="card-text"><strong>Zipcode:</strong> {{ user.address.zipcode }}</p>
          <hr>  
          <h4>Geo Location</h4>
          <p class="card-text"><strong>Latitude:</strong> {{ user.address.geo.lat }}</p>
          <p class="card-text"><strong>Longitude:</strong> {{ user.address.geo.lng }}</p>
          <hr>  
          <p class="card-text"><strong>Phone:</strong> {{ user.phone }}</p>
          <p class="card-text"><strong>Website:</strong> {{ user.website }}</p>
          <p class="card-text"><strong>Company Name:</strong> {{ user.company.name }}</p>
          <p class="card-text"><strong>Catch Phrase:</strong> {{ user.company.catchPhrase }}</p>
          <p class="card-text"><strong>Company BS:</strong> {{ user.company.bs }}</p>
        </div>
      </div>
    }
  </div>

  <div *ngIf="!isCardView" class="mx-2">
    <h1>Users Details table</h1>
  <table class="table  table-striped table-hover">
    <thead>
        
        <tr>
            <th>User ID</th>
            <th> Name</th>
            <th>User Name</th>
            <th>User Email</th>
            <th>Address street</th>
            <th>Address Suite</th>
            <th>Address City</th>
            <th>Address Zipcode</th>
            <th>Geo longitude</th>
            <th>Geo latitude</th>
            <th>Phone</th>
            <th>Website</th>
            <th>Company Name</th>
            <th>Company catchPhrase</th>
            <th>Company bs</th>

        </tr>
    </thead>
    <tbody>
        @for(user of users;track $index){
            <tr>
          <td> {{ user.id }}</td>
          <td> {{ user.name }}</td>
          <td> {{ user.username }}</td>
          <td> {{ user.email }}</td>
          <td> {{ user.address.street }}</td>
          <td> {{ user.address.suite }}</td>
          <td> {{ user.address.city }}</td>
          <td> {{ user.address.zipcode }}</td>
          <td> {{ user.address.geo.lat }}</td>
          <td> {{ user.address.geo.lng }}</td>
          <td> {{ user.phone }}</td>
          <td> {{ user.website }}</td>
          <td> {{ user.company.name }}</td>
          <td> {{ user.company.catchPhrase }}</td>
          <td> {{ user.company.bs }}</td>
            </tr>
        }
    </tbody>
        </table>
    </div>

     -->
     <div class="container mt-4">
      <h2 class="text-center mb-4">Product List</h2>
    
      <!-- Search and Sort Controls -->
      <div class="d-flex justify-content-between align-items-center mb-3">
        <!-- Search Bar -->
        <input type="text" class="form-control w-50" [(ngModel)]="searchCategory" placeholder="Search by category..." (input)="filterProducts()">
        
        <!-- Sort Button -->
        <button class="btn btn-sm btn-primary" (click)="toggleSortOrder()">
          Sort by Price: {{ sortOrder === 'asc' ? '⬆️ Ascending' : '⬇️ Descending' }}
        </button>
      </div>
    
      <!-- Product List -->
      <div class="container mt-3">
        <div class="row">
          <div class="col-md-3 col-sm-6 col-6" *ngFor="let product of paginatedProducts">
            <div class="card h-100 shadow-sm small-card mb-3">
              <img src="{{ product.image }}" alt="Product-Image" class="card-img-top p-3">
              <div class="card-body">
                <h5 class="card-title">{{ product.title }}</h5>
                <p class="card-text"><strong>Price:</strong> {{ product.price | currency }}</p>
                <p class="card-text"><strong>Description:</strong> {{ product.description.slice(0, 200) }}...</p>
                <p class="card-text"><strong>Category:</strong> {{ product.category }}</p>
                <p class="card-text"><strong>Rating:</strong> {{ product.rating.rate }} ⭐ ({{ product.rating.count }} reviews)</p>
              </div>
              <div class="card-footer text-center">
                <button class="btn btn-primary">Add to cart</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    
      <!-- Pagination Controls -->
      <div class="text-center mt-3">
        <button class="btn btn-secondary me-2" (click)="prevPage()" [disabled]="currentPage === 1">Previous</button>
        <span>Page {{ currentPage }} of {{ totalPages }}</span>
        <button class="btn btn-secondary ms-2" (click)="nextPage()" [disabled]="currentPage >= totalPages">Next</button>
      </div>
    </div>
    